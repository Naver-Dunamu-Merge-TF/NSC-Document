# 1. 기획 및 요구사항 단계 (Planning & Requirements)

> **우리는 무엇을 만들 것인가?**

## 1.1 요구사항 정의서 (SRS - Software Requirements Specification) ⭐

- **목적**: 프로젝트의 기능을 명확히 나열하여 개발 범위를 확정합니다.
- **핵심 내용**:
    - **기능 요구사항**: "사용자는 NSC(네이버 스테이블 코인)로 물건을 구매할 수 있다."
    - **비기능 요구사항**: "결제 처리는 1초 이내에 완료되어야 한다.", "원장 데이터는 5년간 보관해야 한다."
- **현실적인 팁**: 엑셀이나 스프레드시트(Google Sheets)에 ID를 매겨서 관리하세요. (예: REQ-PAY-001)

## 1.2 서비스 기획서 (SB - Storyboard / Wireframe)

- **목적**: 화면의 구성과 사용자의 동작(Flow)을 시각적으로 설계합니다. 프론트엔드 개발자의 지도(Map)가 됩니다.
- **핵심 내용**:
    - **화면 UI 디자인** (피그마 사용 권장)
    - **디스크립션(Description)**: 버튼을 눌렀을 때 어떤 API를 호출하고, 에러 시 어떤 팝업을 띄울지 상세 서술.
- **도구**: Figma, PPT

---

# 2. 시스템 설계 단계 (System Design)

> **"어떻게 구현할 것인가?"**를 기술적으로 풀이하는 단계, 백엔드 개발 및 DB 설계의 핵심입니다.

## 2.1 아키텍처 구성도 (System Architecture Diagram) ⭐

- **목적**: 서버, DB, 외부 시스템(Azure, Kafka, 쇼핑몰, 결제 시스템) 간의 연결 구조를 한눈에 봅니다.
- **핵심 내용**:
    - **논리 아키텍처** (서비스 흐름)
    - **물리 아키텍처** (Azure 리소스 배치, 네트워크 보안망 구성)

## 2.2 ERD (Entity Relationship Diagram, 개체 관계도) ⭐

- **목적**: 데이터의 구조와 관계를 정의합니다. 금융 시스템에서 가장 중요한 문서입니다.
- **핵심 내용**:
    - **테이블 구조** (UserWallet, TransactionLedger 등)
    - **컬럼 속성** (Type, Null 여부) 및 관계 (PK, FK)
- **현실적인 팁**: 변경 사항이 생길 때마다 반드시 최신화해야 합니다. (도구: ERDCloud, MySQL Workbench)

## 2.3 시퀀스 다이어그램 (Sequence Diagram) ⭐

- **목적**: 복잡한 로직의 시간 순서를 정의합니다. 특히 **'결제 프로세스(Freeze -> Settle)'**는 말로 설명하기 어렵기 때문에 그림이 필수입니다.
- **핵심 내용**:
    - Actor(사용자) -> Frontend -> API 서버 -> Kafka -> DB 순서로 메시지가 어떻게 흐르는지 화살표로 표현.
    - 성공 케이스뿐만 아니라, **실패/롤백 케이스**도 반드시 그려야 합니다.

## 2.4 API 명세서 (API Specification) ⭐

- **목적**: 프론트엔드와 백엔드가 소통하기 위한 약속입니다.
- **핵심 내용**:
    - **HTTP Method** (GET, POST), **Endpoint URL**
    - **Request Parameter** (요청 값), **Response Body** (응답 값)
    - **Error Code** (어떤 상황에 어떤 에러 코드를 줄 것인가)
- **도구**: **Swagger (OpenAPI)**를 사용하여 코드로 자동 생성하는 것이 효율적입니다.

---

# 3. 개발 및 인터페이스 단계 (Interface)

> 네이버와 두나무(업비트)라는 두 개의 서로 다른 시스템이 만나는 지점을 정의합니다.

## 3.1 연동 규격서 (Interface Definition Document - IDD)

- **목적**: 우리 팀 내부가 아니라, 외부(예: 업비트의 시세 API, 은행망 등)와 데이터를 주고받을 때의 약속입니다.
- **핵심 내용**:
    - **전문(Message) 레이아웃**
    - **통신 방식** (TCP/IP 소켓 통신, REST API, gRPC 등)
    - **보안 방식** (암호화 키 교환 방법, SSL 적용 여부)

---

# 4. 테스트 및 배포 단계 (Test & Deploy)

> 만든 것이 의도대로 동작하는지 검증하고 기록을 남깁니다. 금융권 감사의 핵심 자료입니다.

## 4.1 테스트 시나리오 / 케이스 (Test Case - TC)

- **목적**: "그냥 써보니 잘 되더라"가 아니라, 모든 경우의 수를 체계적으로 확인했음을 증명합니다.
- **핵심 내용**:
    - 테스트 단계, 입력 값, 기대 결과, 실제 결과, Pass/Fail 여부.
    - **예시**: "잔액이 5,000원인 상태에서 10,000원 결제 시도 -> 기대 결과: '잔액 부족' 에러 메시지 출력 -> 실제 결과: Pass"

## 4.2 배포 정의서 (Deployment Guide)

- **목적**: 개발자가 없어도 운영팀이 서버를 띄울 수 있도록 하는 매뉴얼입니다.
- **핵심 내용**:
    - 필요한 환경 변수 (`.env` 설정 값)
    - Docker 실행 명령어
    - 배포 순서 (DB 마이그레이션 -> 브로커 실행 -> API 서버 실행)